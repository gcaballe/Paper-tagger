<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formulario Condicional</title>
  <link rel="stylesheet" href="styles.css"> <!-- Load the external CSS file -->
  <script src="functions.js"></script> <!-- Load the external JavaScript file -->
  <script>
    // Function to fetch the text from the PHP file and load it into the textarea
    function fetchText() {
        const xhr = new XMLHttpRequest();
        xhr.open('GET', 'fetch_text.php', true); // Fetch data from fetch_text.php

        xhr.onload = function () {
          
            if (xhr.status === 200) {
                var response = JSON.parse(xhr.responseText);
                // On success, fill the textarea with the response text
                document.getElementById('paper_text').value = response.text;
                document.getElementById('identificador_numeric').value = response.identificador_numeric;
            } else {
                console.info('fora');
                // If an error occurs, log it
                console.error('Error fetching data: ' + xhr.status);
            }
        };

        xhr.onerror = function () {
            console.error('Request failed');
        };

        xhr.send(); // Send the request
    }

    // Automatically fetch the text when the page loads
    window.onload = function () {
        fetchText();
    };
</script>
</head>
<body>

  <div class="form-container">
    <form>

      <input type="hidden" id="identificador_numeric" value="">

      <div class="textarea-container">
        <label for="paper_text">Text del paper</label>
        <textarea id="paper_text" name="paper_text" readonly></textarea> <!-- Added readonly attribute -->
      </div>

      <label>¿Es un melanoma?</label>
      <div class="button-group">
        <button type="button" class="button-yes" onclick="toggleQuestion2('si')">Sí</button>
        <button type="button" class="button-no" onclick="updatePaperFunction(1, 'no')">No</button>
      </div>

      <div id="question2-container">
        <label>¿Es un melanoma 2?</label>
        <div class="button-group">
          <button type="button" class="button-yes" onclick="updatePaperFunction(2,'si')">Sí</button>
          <button type="button" class="button-no" onclick="updatePaperFunction(2,'no')">No</button>
        </div>
      </div>
    </form>
  </div>

</body>
</html>
